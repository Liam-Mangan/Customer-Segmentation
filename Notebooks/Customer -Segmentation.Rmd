---
title: "Customer-Segmentation"
author: "Liam Mangan"
date: "2025-08-17"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r Library}
# Load libraries
library(tidyverse)   #Cleaning & visualization
library(cluster)     #Clustering
library(factoextra)  #Cluster visualization
library(dplyr)       #Data wrangling
```


```{r Data}
# Load data (adjust path if needed)
data <- read.csv("../data/marketing_campaign.csv")
```
```{r data exploration}
summary(data)
colSums(is.na(data))
```

```{r cleaning}
# Updating categorical columns
data$Education <- as.factor(data$Education)
data$Marital_Status <- as.factor(data$Marital_Status)

# Converting birth year to age 
current_year <- as.numeric(format(Sys.Date(), "%Y"))

data <- data %>%
  mutate(Age = current_year - Year_Birth) 

# Adjusting age range
data <- data %>%
  filter(Age >= 18 & Age <= 100)

# Select features for clustering
cluster_data <- data %>%
  select(
    Age, Income, Education, Marital_Status, 
    MntWines, MntFruits, MntMeatProducts, MntFishProducts,
    MntSweetProducts, MntGoldProds, NumDealsPurchases, NumWebPurchases,
    NumCatalogPurchases, NumStorePurchases, NumWebVisitsMonth, Kidhome,
    Teenhome
  )

# Convert categorical variables to numeric
cluster_data$Education <- as.numeric(cluster_data$Education)
cluster_data$Marital_Status<- as.numeric(cluster_data$Marital_Status)
# Scale the data for clustering
cluster_data_scaled <- scale(cluster_data)

# Quick look at the cleaned, scaled data
head(cluster_data_scaled)
```
